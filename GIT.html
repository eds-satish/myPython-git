<html xmlns:tomboy="http://beatniksoftware.com/tomboy" xmlns:size="http://beatniksoftware.com/tomboy/size" xmlns:link="http://beatniksoftware.com/tomboy/link"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>GIT</title><style type="text/css">
	body {  }
	h1 { font-size: xx-large;
     	     font-weight: bold;
     	     border-bottom: 1px solid black; }
	div.note {
		   position: relative;
		   display: block;
		   padding: 5pt;
		   margin: 5pt; 
		   white-space: -moz-pre-wrap; /* Mozilla */
 	      	   white-space: -pre-wrap;     /* Opera 4 - 6 */
 	      	   white-space: -o-pre-wrap;   /* Opera 7 */
 	      	   white-space: pre-wrap;      /* CSS3 */
 	      	   word-wrap: break-word;      /* IE 5.5+ */ }
	</style></head><body><div class="note" id="GIT"><a name="git"></a><h1>GIT</h1>subscribed with 500 ($7) per month
<a style="color:#3465A4" href="https://www.codeschool.com/learn">https://www.codeschool.com/learn</a>
<a style="color:#3465A4" href="https://dashboard.heroku.com/apps">https://dashboard.heroku.com/apps</a>

<a style="color:#3465A4" href="http://gitreal.codeschool.com/levels/1">http://gitreal.codeschool.com/levels/1</a>
<a style="color:#3465A4" href="https://help.github.com/">https://help.github.com/</a>
<a style="color:#3465A4" href="http://courseware.codeschool.com.s3.amazonaws.com/git_real_slides.pdf">http://courseware.codeschool.com.s3.amazonaws.com/git_real_slides.pdf</a>

mkdir myWorkingFolder
cd myWorkingFolder
git init
git help
git help config
git config --global user.name "eds.satish"
git config --global user.email "<a style="color:#3465A4" href="eds.satish@gmail.com">eds.satish@gmail.com</a>"
create a file example: file1.txt file2.txt, readme.txt license.txt
git status
git add file1.txt file2.txt
git commit -m "my first file/edit in file commited"
git status
git log

level2 course
====
git diff  =  shows unstaged(or unindexed) difference since last commit
  red line - line that was removed
  green line - line that was added
git status
git add
git diff --staged
git status
git reset HEAD file1.txt  = (to unstage/unindex the file)
 HEAD = refers to our last commit on the branch master(timeline/time capsule which records our commit and their time)
git status 
== at this time you see that previous git reset command removed from stage/unstaged but still file has modifications in it

git checkout -- file1.txt
== this will put/rollback the edits/modificaiton we made to file1.txt to the last commit status 
== (remove all changes since last commit)

git commit -a -m "modify readme.txt"
== -a will add any of the changes from all the tracked files to the stage/index and then commit
== doesn't add new (untracked) files 

UNDOING A COMMIT
Whoops, we forgot something on that commit
git reset --soft HEAD^
== --soft will reset into staging/wil undo the last commit and move all the from that commit back into staging
== --HEAD^ what this means is - move to the commit one before HEAD on the branch master timeline
git status

Now i can make the forgotten changes and then re-commit

Another way to modify commit is to use the amend optioin
scenario maybe we forgot to add this file to previous commit (not new or next commit)

git add todo.txt
git commit --amend -m "modify readme.txt and add todo.txt" 
== this --amend will add it to the last commit (previous commit) 
== specify new commit message which is going to overwrite our previous commit message

rollback to last commit       --soft HEAD^
add things to last commit  --amend

*** very important *** usecarefully
git reset --hard HEAD^ == UNDO last commit and all changes/blows (deletes away the last commit)
git reset --hard HEAD^^ == Undo last two commits and all changes/blows away the last two commits before the current HEAD

=========
HOW TO SHARE ? so that other can contribute to our repo
push and pull commands

from locate master -- push --to &gt; remote repository &gt; and other people &gt; -- pull --&gt; down and start making changes and when done they can &gt; --push --&gt; back their changes

git remote command deals with remote repositories
git doesn't take care of access controls for you
for the access control use the hosted solution softwares like github or bitbucket so they take care of access control for you

Self manged access contorl softwares like : Gitosis and Gitorious

If we want to store our repository on github we will create our account on github and create a new repository on github

git remote add origin <a style="color:#3465A4" href="https://github.com/eds-satish/myPython-git.git">https://github.com/eds-satish/myPython-git.git</a>
== add to add the remote == origin is the name of the remote repo == last is the url of the repo on github site

git remove -v

git push -u origin master
== origin is the remote repository name on the github 
== master is the name of the local branch we want to push 
it will ask us for username and password - give them

password caching = <a style="color:#3465A4" href="https://help.github.com/articles/set-up-git">https://help.github.com/articles/set-up-git</a>

To pull down changes from the remote use below command
git pull 

To add remotes
git remote add &lt;name&gt; &lt;url&gt;
To remove remotes
git remote rm &lt;name&gt;
To push to remotes
git push -u &lt;name&gt; &lt;branch&gt;
== -u next time when git push is run you don't have to mention the name and the branch 


**** VERY VERY IMPORTANT DON'T DO THESE AFTER YOU DID "PUSH" ***
git reset --soft HEAD^
git commit --amend -m "new message"
git reset --hard HEAD^
git reset --hard HEAD^^

Dont does these after you push


LEVEL-3
CLONING AND BRANCHING
1. clone downloads the remote repository into a new git-real directory
2. Add the 'origin' remote, pointing it to the clone url
3. checks out initial branch (likely master) and sets the HEAD


git clone <a style="color:#3465A4" href="https://github.com/eds-satish/myPython-git.git">https://github.com/eds-satish/myPython-git.git</a>
==url of the remote repository (it will take the same name as in git-hub)
==clone will setup the same directory structure of remote on the our local machiine

git clone <a style="color:#3465A4" href="https://github.com/eds-satish/myPython-git.git">https://github.com/eds-satish/myPython-git.git</a> git-demo (our own name)
  == 

BRANCH
git branch cat
== branch creates from master
git branch
== to view branch
ex:
git branch
	cat
	*master 
 HEAD (timeline) is still on master

To move HEAD to the cat branch do:
git checkout cat
== when we are doing this we are switching timelines -- we are not anymore on the master timeline
      we will be on cat timeline and we can do whatever we want and then move back onto master whenever we want to
== basically checkout(is checking in like going in or getting inside)  is used to switch to that particular branch

git checkout master
== coming or move to the master branch

git merge cat
== it will merge the cat branch into it (master) and fast-forwarded
conditions for fast-forward merge: when to create branch and do some commits and on it and don't do anything on master branch, git simply says it fast-forward

git branch -d cat
==deleting the cat branch

git checkout -b admin
== this -b creates a branch admin and then checks in that
	now we will do a bunch of changes
	git add admin/dashboard.html
	git commit -m 'Add bashboard"

CHALLENGES
CLONE A REPO
250
The IT department installed an OS update on your workstation - and wiped the hard drive in the process. Clone the Pet Shop repo from <a style="color:#3465A4" href="git@example.com:example/petshop.git">git@example.com:example/petshop.git</a> so you can resume work.

git clone <a style="color:#3465A4" href="git@example.com:example/petshop.git">git@example.com:example/petshop.git</a>

LIST REMOTES
250
Our repo is cloned locally, but how do we check to a list of our remotes? Lets get a list of all our remotes with a verbose output.

git remote -v

CREATE A BRANCH
250
We need to add a section for the pet grooming salon on the site. You want to isolate this new feature from your other work. Create a new branch named grooming.

git branch grooming

SWITCH TO BRANCH
250
You've made the new branch, but your commits are still going to the old one. Switch to the grooming branch.

git checkout grooming

COMBINE BRANCH I
250
You've finished work on the grooming branch and are ready to bring your work back into master. First, check out the master branch...

git checkout master

COMBINE BRANCH II
250
...Now bring your changes from the grooming branch into the ...master branch.

git merge grooming

BRANCH SHORTCUT
250
The pet shop wants to try selling yet another product line! Let's do this one in a branch in case it gets cancelled like the others. Using a single command, create and check out an octopus branch.

git checkout -b octopus


==========

COLLABORATION BASICS
Grep uploads his project to github
locall he working and commiting
git status
does changes and then indexes/stages
git add --all
git commit -m "greg changes"

jane clones greg's repo/project and start working
git clone URL 
git status
does changes and then indexes/stages
git add --all
git commit -m "jane's changes"
git push

now grep pushes
git push
now when Greg wants to push his local repo will have error saying "Updates are rejected becaues the tip of your timeline is behind its remote counterpart
then Greg has to do a new pull and then push for success

git pull
git push

git pull or get fetch 
== Pull/fetch first fetches(or syncs) or local repository with (from the) remote one
== in our local system (gregs local) system we have 
       master (which is our local master branch)
       origin/master (which is the remote github's master branch)
so basically pull will merge/syncs the orgin/master in our local with the remote repo (which is the actual one) without disturbing our local files or our local edits
it is the same thiing as running ---- 
	git merge origin/master

git push
== updates origin/master timeline be at the same state as our local master timeline before pushing (uploading) the repo to github (remote)

git log


MERGE CONFLICTS
Greg and Jane are once again working on the same code at the same time and this time they happen to be working on the same file say readme.txt
When this happens git will show error on the file (readme.txt) and we should manully edit
and then push the file to the remote repo

Challenges
SEND CHANGES
250
You've committed some work so now it's time to share! Push it out for your co-workers to see.

git push

GET CHANGES
250
Looks like your co-worker pushed some changes before you did! Your push was rejected. Retrieve the latest changes, and merge them into your branch in one step.
git pull and then do 
git push

FIX CONFLICTS
250
Git is reporting a conflict with your co-worker's changes in "index.html". Just discard his changes, and keep your own (the HEAD).

Delete the line from &lt;&lt;&lt; and  === till &gt;&gt;&gt; and save your file 

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Our Cat-alog&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;nav&gt;
      &lt;ul&gt;
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
        &lt;li&gt;&lt;a href="cat.html"&gt;Cats&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="dog.html"&gt;Dogs&lt;/a&gt;&lt;/li&gt;
===========
        &lt;li&gt;&lt;a href="cat.html"&gt;Felines&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="dog.html"&gt;Carnivs&lt;/a&gt;&lt;/li&gt;
&gt;&gt;&gt;&gt;&gt;&gt;

      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/body&gt;
&lt;/html&gt;

MARK FIXED
250
Mark the conflict in index.html as resolved.

git add --all

COMMIT FIX
250
Last, commit your merged changes. Don't forget to add a message so we know what the commit was about!

git commit -m "conflict remove and saved index file"

======
LEVEL 5 - remote branches and tags

======== 
Why create a remote branch ?
When you need other people to work on your branch ?
example: Any branch that will last more than a day, you can back it up and pushing it to the github in remote branch

creating a remote branch

git checkout -b shopping_cart
== creates a branch in our local with the given name and checkouts into it

git push origin shopping_cart 
== pushes the branch shopping_cart to the github (remote (origin) the canonical name )
== also links the local branch to the remote branch and starts tracking it

Now get some work done on the branch and then do push it

git add cart.db
git commit -a -m "add basic cart ability"
git push

Hey Jane i started the remote branch with name shopping_cart. If if wanna work on it go ahead.
Jane: Sweet i will check it out

Jane is on her computer and Jane now does:

git pull 
== it shows her the new branch now shopping_cart

git branch
== she does not see it as her local branch

git branch -r
== shows/lists all remote branches

git checkout shopping_cart
== Jane checksin to the branch and starts working on the remote branch and it is automatically set up as a tracking remote branch
== so frm here she can make her changes and when done she can git push

git remote show origin
== will show all of our remote branches and whether they are tracked or not
== also will shows us local branches and which remote branches they merge with
== and lastly will show us local branches that are configured when we do a git push

git push origin :shopping_cart
== deletes the remote branch shopping_cart

git branch -d shopping_cart
== will delete the local branch
error: the branch 'shopping_cart' is not fully merged. the commits are not merged with any masters
if you want to still delete run 'git branch -D shopping_cart'

git branch -D shopping_cart
== forcefully deletes the branch even if commits are existing 

So all of the above Jane was doing it from her system -- she deleted the remote commit but Greg is the one who has created it
and what happens is Greg tries to push to that remote branch

Now Greg is not aware that the remote branch is deleted he is working on his changes and tries to commit and push

git commit -a -m "Add ability to pay"

git push
== everythin-up-date (something weird)

git remote show origin
== output shows that the remote branch is stale - somebody deleted it

git remote prune origin
== to cleanup deleted remote branches it will remove all of those stale references

TAGGING
A tag is a reference to a specific commit (used mostly for release versioning)

git tag
  v.0.0.1
  v.0.0.2
== it will list all tags, we can go back to that tag and look at the code what it looked like 

git checkout v.0.0.1 
== checkout code at commit

git tag -a v0.0.3 -m "version 0.0.3"

git push --tags

challlenges

PUSH BRANCH
250
A new kind of pet is for sale at the store! Maybe this one will catch on with the public. You've committed your work to the local hamsters branch; now publish this branch in the origin repo.
Hint :To actually push a local branch to a remote, you'll need to specify the name of the remote (origin), and the name of the branch you want to push (hamsters).

git push origin hamsters


GET REMOTE BRANCH
250
"git branch -r" does not query the remotes to check for new branches. In order to see a new remote branch you first have to do a fetch or a pull. So retrieve the remote "weasel" branch.

git branch -r

$ git pull origin weasel
 
From <a style="color:#3465A4" href="https://git@pshop.com/petshop_online/petshop.git">https://git@pshop.com/petshop_online/petshop.git</a>
 * branch            weasel     -&gt; FETCH_HEAD

Pull seems like a good choice, but pull will "auto merge branches", you only want to update your local branch information, so use fetch instead

$ git fetch 
$ git fetch
 

From <a style="color:#3465A4" href="https://git@pshop.com/petshop_online/petshop.git">https://git@pshop.com/petshop_online/petshop.git</a>
   5560c2f..5b39751  master     -&gt; origin/master
 * [new branch]      weasel     -&gt; origin/weasel

Success!

REMOTE BRANCHES
250
Your co-worker said he wants you to look over a new branch on "origin", but he didn't tell you its name. Get a list of remote branches.

git branch -r === shows locally 
git remote show origin === shows the remote branches


DELETE ON REMOTE
250
Guess how the product launch went with the weasels? Better delete the "weasel" branch on "origin".

git push origin :weasel

BRANCH STATUS
250
Wait, did you already pull that branch locally? Check for stale branches that are tracking "origin".

git remote show origin

CLEAN BRANCHES
250
You still have a stale local branch tracking the now-deleted origin/weasel. Clean up your local references.

git remote prune origin

LIST TAGS
250
With the weasel threat eliminated, the pet store wants to deploy the site. Let's see, what was the previous version number? Display the tags to find out.

git tag

CREATE TAG
250
Ah, yes, the last release was "v1.3.1". You've added the hamsters, so it would be best to release this as "v1.3.2". Create a tag accordingly.

git tag -a v1.3.2 -m "version 1.3.2"

SEND TAGS
250
Push your tag to origin.

git push --tags

RETRIEVE TAG
250
The client is requesting that you roll back to the prior release. (Seriously? What could have gone wrong with the hamsters?) Retrieve the release tagged "v1.3.1".

git tag
git checkout v1.31.



</div></body></html>
